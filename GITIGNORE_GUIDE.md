# .gitignore Guide

This document explains what's excluded from git tracking in your Nail AR project.

## Summary

The `.gitignore` file prevents unnecessary, sensitive, or large files from being committed to your repository.

## Categories of Excluded Files

### 1. Python Virtual Environments
```
venv/
venv_1/
env/
ENV/
.venv/
*.virtualenv
```
**Why**: Virtual environments are large (~500MB+) and should be recreated locally using `requirements.txt`.

### 2. Python Cache Files
```
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
```
**Why**: These are automatically generated bytecode files. They'll be recreated when you run Python.

### 3. Distribution / Packaging
```
build/
dist/
*.egg-info/
wheels/
```
**Why**: Generated during package building. Not needed in source control.

### 4. Model Files (IMPORTANT!)
```
*.pt          # PyTorch models
*.pth         # PyTorch checkpoints
*.ckpt        # Checkpoint files
*.safetensors # Safe tensor format
*.pb          # TensorFlow models
*.h5          # Keras models
*.tflite      # TensorFlow Lite
*.onnx        # ONNX format
```
**Why**: Model files are HUGE (your `checkpoint_best_total.pth` is ~1GB+). These should be:
- Stored in Git LFS (Large File Storage)
- Downloaded separately
- Stored on cloud storage (S3, Google Drive, etc.)

**Note**: If you need to track your model, use Git LFS:
```bash
git lfs install
git lfs track "*.pth"
git add .gitattributes
```

### 5. Jupyter Notebooks (Checkpoints)
```
.ipynb_checkpoints
*.ipynb
```
**Why**: Checkpoint files are auto-generated. You can track `.ipynb` files by commenting out that line if needed.

### 6. IDE Files
```
.vscode/
.idea/
*.swp
*.swo
```
**Why**: These are editor-specific settings. Each developer has their own preferences.

### 7. Logs
```
*.log
logs/
*.out
```
**Why**: Log files can get very large and contain runtime data, not source code.

### 8. Environment Variables
```
.env
.env.local
.env.*.local
```
**Why**: Contains sensitive information like API keys, database passwords, etc. NEVER commit these!

### 9. Database Files
```
*.db
*.sqlite
*.sqlite3
```
**Why**: Database files are runtime data, not source code. Use migrations/schemas instead.

### 10. Temporary Files
```
tmp/
temp/
*.tmp
*.bak
*.cache
```
**Why**: Temporary files are automatically created and deleted. Not needed in version control.

### 11. System Files
```
.DS_Store      # macOS
Thumbs.db      # Windows
.directory     # Linux
desktop.ini    # Windows
```
**Why**: Operating system metadata files. Each OS generates its own.

### 12. Test Data (Commented Out)
```
# *.jpg
# *.jpeg
# *.png
# *.mp4
```
**Why**: Commented out so you CAN track test images if needed. Uncomment to exclude them.

## What IS Tracked

These files ARE committed to git:

‚úÖ **Source Code**
- `backend/*.py` (Python files)
- `frontend/*.js`, `*.html`, `*.css` (Frontend files)
- `professional_nail_renderer/*.py` (Renderer package)

‚úÖ **Configuration**
- `requirements.txt` (Python dependencies)
- `start_app.sh`, `start_app_dev.sh` (Startup scripts)
- `nail-ar.service` (Systemd service)
- `install_service.sh` (Installation script)

‚úÖ **Documentation**
- `*.md` files (Markdown documentation)
- `README.md`, guides, etc.

‚úÖ **Project Structure**
- `__init__.py` files (Package markers)
- Empty directories (with `.gitkeep` files)

## Special Cases

### Model Checkpoint File

Your `checkpoint_best_total.pth` file is excluded. Options:

1. **Git LFS** (Recommended for small teams):
   ```bash
   git lfs install
   git lfs track "checkpoint_best_total.pth"
   git add .gitattributes checkpoint_best_total.pth
   git commit -m "Add model checkpoint via LFS"
   ```

2. **Cloud Storage** (Recommended for production):
   - Upload to S3, Google Drive, or similar
   - Add download script: `download_model.sh`
   - Document the URL in README

3. **Keep Local Only**:
   - Already excluded in `.gitignore`
   - Each developer downloads separately

### Test Images

Currently tracked by default. To exclude:
```bash
# Uncomment these lines in .gitignore
*.jpg
*.jpeg
*.png
*.mp4
```

## Checking What's Ignored

```bash
# See what's being ignored in current directory
git status --ignored

# Check if specific file is ignored
git check-ignore -v filename.pth

# See all ignored files
git ls-files --others --ignored --exclude-standard
```

## Cleaning Up Already Tracked Files

If you accidentally committed files that should be ignored:

```bash
# Remove from git but keep locally
git rm --cached filename

# Remove entire directory from git but keep locally
git rm -r --cached venv_1/

# Commit the removal
git commit -m "Remove ignored files from tracking"
```

## Common Mistakes to Avoid

‚ùå **Don't commit:**
- Virtual environments (`venv_1/`)
- Model files (`*.pth`, `*.pt`)
- API keys (`.env` files)
- Log files (`*.log`)
- Cache files (`__pycache__/`)

‚úÖ **Do commit:**
- Source code (`*.py`, `*.js`, `*.html`)
- Configuration templates (`.env.example`)
- Documentation (`*.md`)
- Requirements (`requirements.txt`)
- Startup scripts (`*.sh`)

## Verifying Your .gitignore

```bash
# Check git status
git status

# Should NOT see:
# - venv_1/
# - __pycache__/
# - *.pyc files
# - *.pth files
# - .env files

# Should see:
# - Modified .gitignore (if you just updated it)
# - Your source code changes
# - Documentation updates
```

## Template for Secrets

Create `.env.example` (this IS tracked):
```bash
# API Keys (get from admin)
API_KEY=your_api_key_here
SECRET_KEY=your_secret_here

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nail_ar_db
```

Then copy locally:
```bash
cp .env.example .env
# Edit .env with real values
```

The `.env` file is excluded, but `.env.example` serves as a template.

## Summary

Your `.gitignore` is now configured to:

‚úÖ Exclude large model files
‚úÖ Exclude virtual environments
‚úÖ Exclude sensitive data (.env)
‚úÖ Exclude temporary/cache files
‚úÖ Exclude IDE settings
‚úÖ Include all source code
‚úÖ Include documentation
‚úÖ Include configuration scripts

This keeps your repository clean, secure, and efficient! üöÄ

## Quick Reference

```bash
# Add everything (respects .gitignore)
git add .

# Check what will be committed
git status

# Commit
git commit -m "Your message"

# Push
git push origin main
```

Files in `.gitignore` will automatically be skipped by `git add .`
